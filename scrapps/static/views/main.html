
<section id="todoapp">

  <header id="header">

    <h1 id="page-title">scraps</h1>

    <form id="todo-form" ng-submit="addScrap()">
      <input id="new-todo"
          placeholder="Enter a scrap of data"
          ng-model="newScrap"
          ng-disabled="saving"
          autofocus>
    </form>

  </header>

  <section id="main" ng-show="scraps.length" ng-cloak>

    <input id="toggle-all"
        type="checkbox"
        ng-model="allChecked"
        ng-click="markAll(allChecked)">

    <label for="toggle-all">Mark all as complete</label>

    <ul id="todo-list">
      <li
        ng-repeat="scrap in scraps track by $index"
        ng-class="{completed: scrap.completed, editing: scrap == editedScrap}">

        <div class="view">
          <input class="toggle"
            type="checkbox"
            ng-model="scrap.completed"
            ng-change="toggleCompleted(scrap)">

          <div
            class="scrap"
            ng-if="scrap === editedScrap">

            {{scrap.title}}

          </div>

          <div
            class="scrap"
            ng-if="scrap !== editedScrap"
            ng-dblclick="editScrap(scrap)"
            ng-bind-html="scrap.html_title">
          </div>

          <button
            class="destroy vertical-align-middle"
            ng-click="removeScrap(scrap)">
          </button>

        </div>

        <form ng-submit="saveEdits(scrap, 'submit')">
          <input
            class="edit"
            ng-trim="false"
            ng-model="scrap.title"
            scrap-escape="revertEdits(scrap)"
            ng-blur="saveEdits(scrap, 'blur')"
            scrap-focus="scrap == editedScrap">
        </form>

      </li>
    </ul>
  </section>

  <footer id="footer" ng-show="scraps.length" ng-cloak>
    <span id="scrap-count">
      <strong>{{remainingCount}}</strong>
      <ng-pluralize
        count="remainingCount"
        when="{ one: 'item left', other: 'items left' }">
      </ng-pluralize>
    </span>

  </footer>
</section>

<footer id="info">
  <p>Double-click to edit a scrap</p>
</footer>
