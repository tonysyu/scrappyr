<ul id="scrap-list">

  <li
    class="scrap"
    ng-repeat="scrap in scraps track by scrap.id"
    ng-class="{editing: scrap === editedScrap}">

    <div class="view">

      <div
        class="scrap-title"
        ng-if="scrap !== editedScrap"
        ng-dblclick="editScrap(scrap)"
        ng-bind-html="scrap.html_title">

      </div>

      <button
        class="destroy vertical-align-middle"
        ng-click="removeScrap(scrap)">
      </button>

    </div>

    <form ng-submit="saveEdits(scrap, 'submit')">
      <input
        class="edit scrap-title"
        ng-trim="false"
        ng-model="scrap.title"
        scrap-escape="revertEdits(scrap)"
        ng-blur="saveEdits(scrap, 'blur')"
        scrap-focus="scrap === editedScrap">
    </form>

    <tags-input
      class="input-group-sm"
      ng-model="scrap.tags"
      on-tag-added="onTagChanged(scrap)"
      on-tag-removed="onTagChanged(scrap)">
    </tags-input>

  </li>
</ul>
