<div class="scrap-view">

  <div
    class="scrap-title"
    data-mathjax
    ng-if="!ctrl.isEditing"
    ng-click="ctrl.editScrap(scrap)"
    ng-bind-html="scrap.html_title">
  </div>

  <form ng-class="{editing: ctrl.isEditing}">
    <textarea
      class="edit scrap-title vertical-resize"
      ng-if="ctrl.isEditing"
      ng-model="scrap.title"
      scrap-escape="ctrl.revertEdits(scrap)"
      ng-blur="ctrl.saveEdits(scrap)"
      scrap-focus="ctrl.isEditing">
    </textarea>

  </form>

</div>

<tags-input
  ng-model="scrap.tags"
  on-tag-added="ctrl.onTagChanged(scrap)"
  on-tag-removed="ctrl.onTagChanged(scrap)">
</tags-input>
